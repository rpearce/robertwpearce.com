<!DOCTYPE html><html lang="en"><head><title>Hakyll Pt. 1 – Setup & Initial Customization</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Use the hakyll static site generator to set up a website or blog."><meta name="author" content="Robert Pearce"><meta name="keywords" content="hakyll, hakyll tutorial, hakyll blog, hakyll blog tutorial, hakyll static site, static site generator"><meta name="google-site-verification" content="QX4bn65yOXBfgnwxlO09yIBc1H8blur-Erx3lmsDVhU"><meta http-equiv="origin-trial" content="Am4BZ0c7GMyB72dgo/Ny2FfIFscXhYMoN+CVe4jduWh24FvsaCwf7kjZzHzfrJXtIilyZVAEKRxOItGLY7lvkAgAAABSeyJvcmlnaW4iOiJodHRwczovL3JvYmVydHdwZWFyY2UuY29tOjQ0MyIsImZlYXR1cmUiOiJQb3J0YWxzIiwiZXhwaXJ5IjoxNjAzNTQ2NDc3fQ=="><meta property="og:site_name" content="Robert Pearce"><meta property="og:title" content="Hakyll Pt. 1 – Setup & Initial Customization"><meta property="og:url" content="https://robertwpearce.com/hakyll-pt-1-setup-initial-customization.html"><meta property="og:description" content="Use the hakyll static site generator to set up a website or blog."><meta property="og:type" content="article"><meta property="twitter:site" content="Robert Pearce"><meta property="twitter:title" content="Hakyll Pt. 1 – Setup & Initial Customization"><meta property="twitter:description" content="Use the hakyll static site generator to set up a website or blog."><meta property="twitter:creator" content="@RobertWPearce"><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>💾</text></svg>"><link rel="canonical" href="https://robertwpearce.com/hakyll-pt-1-setup-initial-customization.html"><link rel="alternate" href="./atom.xml" title="Robert Pearce's blog" type="application/atom+xml"><link rel="alternate" href="./rss.xml" title="Robert Pearce's blog" type="application/rss+xml"><link rel="stylesheet" href="./css/base.css"><link rel="stylesheet" href="./css/t-clean.css"><link rel="stylesheet" href="./css/t-clean-note.css"><link rel="stylesheet" href="./css/t-code-dracula.css"><link rel="prefetch" href="./css/t-clean-note.css"></head><body data-theme="clean-night"><script> (() => { window.site = { prefFont: localStorage.getItem('prefFont') || 'monospace', setFont: (family) => { localStorage.setItem('prefFont', family); const rootStyle = document.querySelector(':root').style; rootStyle.setProperty('--type-family-body', family+',monospace'); /* Remove when https://github.com/googlefonts/spacemono/pull/2 is resolved */ if (family === 'Liga Space Mono') { rootStyle.setProperty('font-feature-settings', '"liga" 0'); } else { rootStyle.removeProperty('font-feature-settings'); } return window.site._fetchFont(family); }, prefTheme: localStorage.getItem('prefTheme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'clean-night' : 'clean-day'), setTheme: (name) => { const rootStyle = document.querySelector(':root').style; if (name === 'clean-night') { rootStyle.removeProperty('color-scheme'); } else { rootStyle.setProperty('color-scheme', 'light'); } document.body.setAttribute('data-theme', name); localStorage.setItem('prefTheme', name); }, _fetchFont: (family) => { if (family === 'monospace') { return Promise.resolve(); } const familyNoSpaces = family.replaceAll(' ', ''); const fontz = [ new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Regular.woff2") format("woff2")', { display: 'swap', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Bold.woff2") format("woff2")', { display: 'swap', weight: 700 }), ]; if (family !== 'Fira Code') { fontz.push( new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Italic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-BoldItalic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 700 }) ); } for (const f of fontz) { document.fonts.add(f); } return Promise.allSettled(fontz).then(results => { results.forEach((res, i) => { if (res.status === 'rejected') { console.error('site failed to load font: ' + fontz[i]?.family ?? 'unknown'); } }); }); } }; window.site.setTheme(window.site.prefTheme); window.site.setFont(window.site.prefFont); })(); </script><header><nav><div class="nav-skip"><a href="#content">Skip to content</a></div><a aria-label="Home" class="nav-home" href="./">~</a><span>/</span></nav><div class="header-extra"><a href="./atom.xml">RSS</a><span aria-hidden="true">&compfn;</span><noscript>(requires JS &rarr;)</noscript><label for="select-theme">Theme</label><select data-select-theme id="select-theme"><option value="clean-day">Clean (Day)</option><option value="clean-night">Clean (Night)</option></select><span aria-hidden="true">&compfn;</span><label for="select-font">Font</label><select data-select-font id="select-font"><option value="monospace">monospace</option><option value="Liga Space Mono">Space Mono</option><option value="Victor Mono">Victor Mono</option><option value="Fira Code">Fira Code</option><option value="JetBrains Mono">JetBrains Mono</option></select></div></header><main id="content"><header data-area="heading"><h1>Hakyll Pt. 1 – Setup & Initial Customization</h1></header><section data-area="meta"><h2>Info</h2><table data-type="cols-y"><tbody><tr><th>Summary</th><td>Use the hakyll static site generator to set up a website or blog.</td></tr><tr><th>Shared</th><td>2018-11-04</td></tr><tr><th>Revised</th><td>2023-02-11 @ 16:00 UTC</td></tr></tbody></table></section><section data-area="note"><p>This is part 1 of a multipart series where we will look at getting a website / blog set up with <a href="https://jaspervdj.be/hakyll">hakyll</a> and customized a fair bit.</p><ul><li>Pt. 1 – Setup &amp; Initial Customization</li><li><a href="/hakyll-pt-2-generating-a-sitemap-xml-file.html">Pt. 2 – Generating a Sitemap XML File</a></li><li><a href="/hakyll-pt-3-generating-rss-and-atom-xml-feeds.html">Pt. 3 – Generating RSS and Atom XML Feeds</a></li><li><a href="/hakyll-pt-4-copying-static-files-for-your-build.html">Pt. 4 – Copying Static Files For Your Build</a></li><li><a href="/hakyll-pt-5-generating-custom-post-filenames-from-a-title-slug.html">Pt. 5 – Generating Custom Post Filenames From a Title Slug</a></li><li><a href="/hakyll-pt-6-pure-builds-with-nix.html">Pt. 6 – Pure Builds With Nix</a></li><li><a href="/the-hakyll-nix-template-tutorial.html">The hakyll-nix-template Tutorial</a></li></ul><h2 id="overview">Overview</h2><ol><li><a href="#installation-setup">Installation &amp; Setup</a></li><li><a href="#configuration-rules">Configuration Rules</a></li><li><a href="#blog-posts">Blog Posts</a></li><li><a href="#working-with-templates">Working With Templates</a></li><li><a href="#rendering-partials">Rendering Partials</a></li></ol><h2 id="installation--setup">Installation &amp; Setup</h2><p>While this is detailed fully on <a href="https://jaspervdj.be/hakyll/tutorials/01-installation.html">the hakyll installation tutorial</a>, I will repeat it here.</p><ol><li>install <a href="https://docs.haskellstack.org/en/stable/README/">stack</a> and make sure <code>$HOME/.local/bin</code> is included in your <code>PATH</code></li><li><code>λ stack install hakyll</code> – should install <code>hakyll-init</code> in <code>$HOME/.local/bin</code></li><li><code>λ hakyll-init ourblog.com</code></li><li><code>λ cd ourblog.com</code></li><li><code>λ stack init</code></li><li><code>λ stack build</code></li><li><code>λ stack exec site build</code></li><li><code>λ stack exec site rebuild</code> – to test the rebuild command</li><li><code>λ stack exec site watch</code> – starts dev server &amp; watches for changes</li><li>navigate to <a href="http://localhost:8000" class="uri">http://localhost:8000</a> to see it!</li></ol><h2 id="configuration-rules">Configuration Rules</h2><p>Hakyll gives you the ability to override its <a href="https://jaspervdj.be/hakyll/reference/Hakyll-Core-Configuration.html">existing configuration rules</a> to change anything from the output directory (default <code>_site/</code>) to deploy commands to the host and port for previewing your site locally.</p><p>Here is what the default configuration looks like in hakyll (<a href="https://github.com/jaspervdj/hakyll/blob/1abdeee743d65d96c6f469213ca6e7ea823340a7/lib/Hakyll/Core/Configuration.hs#L88-L110">source</a>):</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-c1">-- | Default configuration for a hakyll application</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">defaultConfiguration</span> <span class="pl-ow">::</span> <span class="pl-kt">Configuration</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">defaultConfiguration</span> <span class="pl-ow">=</span> <span class="pl-kt">Configuration</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">{</span> <span class="pl-n">destinationDirectory</span> <span class="pl-ow">=</span> <span class="pl-s">"_site"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">storeDirectory</span>       <span class="pl-ow">=</span> <span class="pl-s">"_cache"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">tmpDirectory</span>         <span class="pl-ow">=</span> <span class="pl-s">"_cache/tmp"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">providerDirectory</span>    <span class="pl-ow">=</span> <span class="pl-s">"."</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">ignoreFile</span>           <span class="pl-ow">=</span> <span class="pl-n">ignoreFile'</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">deployCommand</span>        <span class="pl-ow">=</span> <span class="pl-s">"echo 'No deploy command specified' &amp;&amp; exit 1"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">deploySite</span>           <span class="pl-ow">=</span> <span class="pl-n">system</span> <span class="pl-o">.</span> <span class="pl-n">deployCommand</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">inMemoryCache</span>        <span class="pl-ow">=</span> <span class="pl-kt">True</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">previewHost</span>          <span class="pl-ow">=</span> <span class="pl-s">"127.0.0.1"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">previewPort</span>          <span class="pl-ow">=</span> <span class="pl-mi">8000</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">}</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">where</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-n">ignoreFile'</span> <span class="pl-n">path</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-o">|</span> <span class="pl-s">"."</span>    <span class="pl-p">`</span><span class="pl-n">isPrefixOf</span><span class="pl-p">`</span> <span class="pl-n">fileName</span> <span class="pl-ow">=</span> <span class="pl-kt">True</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-o">|</span> <span class="pl-s">"#"</span>    <span class="pl-p">`</span><span class="pl-n">isPrefixOf</span><span class="pl-p">`</span> <span class="pl-n">fileName</span> <span class="pl-ow">=</span> <span class="pl-kt">True</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-o">|</span> <span class="pl-s">"~"</span>    <span class="pl-p">`</span><span class="pl-n">isSuffixOf</span><span class="pl-p">`</span> <span class="pl-n">fileName</span> <span class="pl-ow">=</span> <span class="pl-kt">True</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-o">|</span> <span class="pl-s">".swp"</span> <span class="pl-p">`</span><span class="pl-n">isSuffixOf</span><span class="pl-p">`</span> <span class="pl-n">fileName</span> <span class="pl-ow">=</span> <span class="pl-kt">True</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-o">|</span> <span class="pl-n">otherwise</span>                    <span class="pl-ow">=</span> <span class="pl-kt">False</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-kr">where</span>
</span></span><span class="pl-line"><span class="pl-cl">          <span class="pl-n">fileName</span> <span class="pl-ow">=</span> <span class="pl-n">takeFileName</span> <span class="pl-n">path</span></span></span></code></pre><p>The <a href="https://jaspervdj.be/hakyll/tutorials/03-rules-routes-compilers.html">hakyll tutorial on rules, routes and compilers</a> makes reference to a <code>hakyllWith</code> function for customizing configuration, so let’s see how we can use that.</p><p>The default hakyll <code>main</code> function in your <code>site.hs</code> file looks like this:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-nf">main</span> <span class="pl-ow">::</span> <span class="pl-kt">IO</span> <span class="pl-nb">()</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">main</span> <span class="pl-ow">=</span> <span class="pl-n">hakyll</span> <span class="pl-o">$</span> <span class="pl-kr">do</span></span></span></code></pre><p>What we can do is change <code>hakyll</code> to <code>hakyllWith</code> and pass a function that we’ll name <code>config</code> that makes use of the <code>defaultConfiguration</code> but returns a new, altered <a href="https://en.wikibooks.org/wiki/Haskell/More_on_datatypes#Named_Fields_.28Record_Syntax.29">record</a>:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-nf">main</span> <span class="pl-ow">::</span> <span class="pl-kt">IO</span> <span class="pl-nb">()</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">main</span> <span class="pl-ow">=</span> <span class="pl-n">hakyllWith</span> <span class="pl-n">config</span> <span class="pl-o">$</span> <span class="pl-kr">do</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-c1">-- ...</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">config</span> <span class="pl-ow">::</span> <span class="pl-kt">Configuration</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nf">config</span> <span class="pl-ow">=</span> <span class="pl-n">defaultConfiguration</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">{</span> <span class="pl-n">destinationDirectory</span> <span class="pl-ow">=</span> <span class="pl-s">"docs"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">,</span> <span class="pl-n">previewPort</span>          <span class="pl-ow">=</span> <span class="pl-mi">5000</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">}</span></span></span></code></pre><p>Whenever we make a change to <code>site.hs</code>, we need to make sure we use <code>stack</code> to <code>build</code> it again and restart our server. We’ll also need to make sure we clean out our old output folder with the <code>clean</code> command. So, all together now:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">λ stack exec site clean
</span></span><span class="pl-line"><span class="pl-cl">λ stack build
</span></span><span class="pl-line"><span class="pl-cl">λ stack exec site watch</span></span></code></pre><p>…and now your output will be in the <code>docs/</code> folder, and your site will be previewable at <a href="http://localhost:5000" class="uri">http://localhost:5000</a>.</p><p>Now that we’ve flexed our configuration muscles a bit, let’s look at the <code>posts/</code> folder to see what we’re working with on the blog side.</p><h2 id="blog-posts">Blog Posts</h2><p>If you open the <code>posts/</code> folder and select any preset blog post (hint: you can see them online at <a href="https://github.com/jaspervdj/hakyll/tree/master/data/example/posts" class="uri">https://github.com/jaspervdj/hakyll/tree/master/data/example/posts</a>; make sure you click the “Raw” button to view the raw markdown), you’ll see a standard markdown file containing two sets of content: * metadata (between the <code>---</code> delimiters) * body content (everything else)</p><p>From <a href="http://localhost:5000" class="uri">http://localhost:5000</a>, let’s click on the first post we see: <a href="http://localhost:5000/posts/2015-12-07-tu-quoque.html" class="uri">http://localhost:5000/posts/2015-12-07-tu-quoque.html</a>. If we open up the corresponding file, <code>2015-12-07-tu-quoque.html</code>, in our text editor, we can see there are two metadata fields: <code>title</code> and <code>author</code>. Let’s change them:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">---
</span></span><span class="pl-line"><span class="pl-cl">title: Some Latin Text
</span></span><span class="pl-line"><span class="pl-cl">author: Some Roman Person
</span></span><span class="pl-line"><span class="pl-cl">---</span></span></code></pre><p>Refresh the page and see the changes!</p><p>But note that despite changing the title of your blog post, the outputted HTML file is still located at <a href="http://localhost:5000/posts/2015-12-07-tu-quoque.html" class="uri">http://localhost:5000/posts/2015-12-07-tu-quoque.html</a>. This is because the <em>markdown filename</em> is what currently determines the outputted filename. We will change this in Part 5 of this series, but until then, if you change the title of your post, it would be a good idea to also change the filename.</p><p>Feel free to edit these metadata fields and markdown content with your own blog post material.</p><p>Next up, we’ll see about how we can customize the templates to work with all the metadata that we might want to include from our posts (description, author, keywords, image, etc).</p><h2 id="working-with-templates">Working With Templates</h2><p>There is a <a href="https://jaspervdj.be/hakyll/tutorials/04-compilers.html#templates">hakyll turorial on templates, context and control flow</a> that you should check out. Here, we’re going to adjust the default templates to suit our needs.</p><p>The HTML templates can be found in – you guessed it – the <code>templates/</code> folder.</p><p>The first file we will look at is <code>templates/default.html</code> (hint: this template is also viewable online at <a href="https://github.com/jaspervdj/hakyll/blob/master/data/example/templates/default.html" class="uri">https://github.com/jaspervdj/hakyll/blob/master/data/example/templates/default.html</a>).</p><p>Templates are nothing more than <code>.html</code> files but with a caveat (which you’d know about if you read the tutorial above): there is added context – drawn from markdown options or injected before compilation in <code>site.hs</code> – that can be used anywhere, so long as it is between <code>$</code> (dollar signs). Here is an example that uses the <code>title</code> property that is set in each file:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">title</span><span class="pl-p">&gt;</span>$title$<span class="pl-p">&lt;/</span><span class="pl-nt">title</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Cool! Now what if we wanted to use our <code>author</code> metadata?</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">name</span><span class="pl-o">=</span><span class="pl-s">"author"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$author$"</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Oh no!</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">Compiling
</span></span><span class="pl-line"><span class="pl-cl">  updated templates/default.html
</span></span><span class="pl-line"><span class="pl-cl">  [ERROR] Missing field $author$ in context for item about.rst</span></span></code></pre><p>This is because not all of our files being run through this default template have all the same fields. We can use conditionals to solve this:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">$if(author)$<span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">name</span><span class="pl-o">=</span><span class="pl-s">"author"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$author$"</span><span class="pl-p">&gt;</span>$endif$
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c">&lt;!-- or, if you prefer --&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">$if(author)$
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">name</span><span class="pl-o">=</span><span class="pl-s">"author"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$author$"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">$endif$</span></span></code></pre><p>Blog posts also should have a <code>description</code> and <code>keywords</code>, so let’s add those: to <code>posts/2015-12-07-tu-quoque.markdown</code>:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">---
</span></span><span class="pl-line"><span class="pl-cl">title: My Blog Post
</span></span><span class="pl-line"><span class="pl-cl">description: This is my great blog post
</span></span><span class="pl-line"><span class="pl-cl">keywords: blog, first blog, best blog evar
</span></span><span class="pl-line"><span class="pl-cl">author: I did it!
</span></span><span class="pl-line"><span class="pl-cl">---</span></span></code></pre><p>We’ll then update our default template to handle those, as well:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">title</span><span class="pl-p">&gt;</span>$title$<span class="pl-p">&lt;/</span><span class="pl-nt">title</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">$if(author)$<span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">name</span><span class="pl-o">=</span><span class="pl-s">"author"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$author$"</span><span class="pl-p">&gt;</span>$endif$
</span></span><span class="pl-line"><span class="pl-cl">$if(keywords)$<span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">name</span><span class="pl-o">=</span><span class="pl-s">"keywords"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$keywords$"</span><span class="pl-p">&gt;</span>$endif$</span></span></code></pre><p>If you refresh <a href="http://localhost:5000/posts/2015-12-07-tu-quoque.html" class="uri">http://localhost:5000/posts/2015-12-07-tu-quoque.html</a> and open up the web inspector, you’ll now see that the <code>&lt;head&gt;</code> now contains not only your post’s <code>title</code>, but also all the other fields you specified!</p><p>There are many other possibilities for this, as well. For instance, if you wanted to have different <code>og:type</code>s of pages, you could do:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">$if(type)$
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">property</span><span class="pl-o">=</span><span class="pl-s">"og:type"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"$type$"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">$else$
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">meta</span> <span class="pl-na">property</span><span class="pl-o">=</span><span class="pl-s">"og:type"</span> <span class="pl-na">content</span><span class="pl-o">=</span><span class="pl-s">"website"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">$endif$</span></span></code></pre><p>Check out the default template for this website here: <a href="https://github.com/rpearce/robertwpearce.com/blob/main/src/templates/default.html" class="uri">https://github.com/rpearce/robertwpearce.com/blob/main/src/templates/default.html</a>.</p><h2 id="rendering-partials">Rendering Partials</h2><p>Lastly for today, what if we want to reuse templates and specify where they should be rendered from other templates? Enter <a href="https://jaspervdj.be/hakyll/tutorials/04-compilers.html#partials">hakyll partials</a>.</p><p>A common use of partials is for navigation across different templates. We can add a new file, <code>templates/nav.html</code>, and place the following in it (add some CSS classes and styling if you want it to look nice):</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">nav</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"nav"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">a</span> <span class="pl-na">href</span><span class="pl-o">=</span><span class="pl-s">"/"</span><span class="pl-p">&gt;</span>Home<span class="pl-p">&lt;/</span><span class="pl-nt">a</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">a</span> <span class="pl-na">href</span><span class="pl-o">=</span><span class="pl-s">"mailto:me@myemail.com"</span><span class="pl-p">&gt;</span>Email Me<span class="pl-p">&lt;/</span><span class="pl-nt">a</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">nav</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Now, this partial can be used anywhere. For example, from <code>templates/post.html</code>:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">$partial("templates/nav.html")$</span></span></code></pre><h2 id="wrapping-up">Wrapping Up</h2><p>In this lesson we learned how to get started with <a href="https://jaspervdj.be/hakyll">hakyll</a> and learned some of the ways for us to get started customizing it to our own needs. Next time, we’ll dive into <code>site.hs</code> to generate our own <code>sitemap.xml</code> file.</p><p>Next up:</p><ul><li><a href="/hakyll-pt-2-generating-a-sitemap-xml-file.html">Pt. 2 – Generating a Sitemap XML File</a></li><li><a href="/hakyll-pt-3-generating-rss-and-atom-xml-feeds.html">Pt. 3 – Generating RSS and Atom XML Feeds</a></li><li><a href="/hakyll-pt-4-copying-static-files-for-your-build.html">Pt. 4 – Copying Static Files For Your Build</a></li><li><a href="/hakyll-pt-5-generating-custom-post-filenames-from-a-title-slug.html">Pt. 5 – Generating Custom Post Filenames From a Title Slug</a></li><li><em>(wip) Pt. 6 – Customizing Markdown Compiler Options</em></li></ul><hr /><p>Until next time, <br /> Robert</p></section></main><footer><span aria-hidden="true" class="heart">♥</span><span aria-hidden="true">&rarr;</span><a href="https://github.com/sponsors/rpearce/">Sponsor my work</a><span aria-hidden="true">&larr;</span><span aria-hidden="true" class="heart">♥</span></footer><script async> (() => { const themeEl = document.querySelector('[data-select-theme]'); if (themeEl) { themeEl.querySelector('[value="'+window.site.prefTheme+'"]').selected = 'selected'; themeEl.addEventListener('change', e => { window.site.setTheme(e.target.value); }); } const fontEl = document.querySelector('[data-select-font]'); if (fontEl) { fontEl.querySelector('[value="'+window.site.prefFont+'"]').selected = 'selected'; fontEl.addEventListener('change', e => { window.site.setFont(e.target.value); }) } })(); </script></body></html>