<!DOCTYPE html><html lang="en"><head><title>RiotJS Example</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="A quick-dive in to RiotJS, with examples."><meta name="author" content="Robert Pearce"><meta name="keywords" content="riotjs, riot.js, riotjs tutorial, tutorial, javascript"><meta name="google-site-verification" content="QX4bn65yOXBfgnwxlO09yIBc1H8blur-Erx3lmsDVhU"><meta http-equiv="origin-trial" content="Am4BZ0c7GMyB72dgo/Ny2FfIFscXhYMoN+CVe4jduWh24FvsaCwf7kjZzHzfrJXtIilyZVAEKRxOItGLY7lvkAgAAABSeyJvcmlnaW4iOiJodHRwczovL3JvYmVydHdwZWFyY2UuY29tOjQ0MyIsImZlYXR1cmUiOiJQb3J0YWxzIiwiZXhwaXJ5IjoxNjAzNTQ2NDc3fQ=="><meta property="og:site_name" content="Robert Pearce"><meta property="og:title" content="RiotJS Example"><meta property="og:url" content="https://robertwpearce.com/riotjs-example.html"><meta property="og:description" content="A quick-dive in to RiotJS, with examples."><meta property="og:type" content="article"><meta property="twitter:site" content="Robert Pearce"><meta property="twitter:title" content="RiotJS Example"><meta property="twitter:description" content="A quick-dive in to RiotJS, with examples."><meta property="twitter:creator" content="@RobertWPearce"><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üíæ</text></svg>"><link rel="canonical" href="https://robertwpearce.com/riotjs-example.html"><link rel="alternate" href="./atom.xml" title="Robert Pearce's blog" type="application/atom+xml"><link rel="alternate" href="./rss.xml" title="Robert Pearce's blog" type="application/rss+xml"><link rel="stylesheet" href="./css/base.css"><link rel="stylesheet" href="./css/t-clean.css"><link rel="stylesheet" href="./css/t-clean-note.css"><link rel="stylesheet" href="./css/t-code-dracula.css"><link rel="prefetch" href="./css/t-clean-note.css"></head><body data-theme="clean-night"><script> (() => { window.site = { prefFont: localStorage.getItem('prefFont') || 'monospace', setFont: (family) => { localStorage.setItem('prefFont', family); const rootStyle = document.querySelector(':root').style; rootStyle.setProperty('--type-family-body', family+',monospace'); /* Remove when https://github.com/googlefonts/spacemono/pull/2 is resolved */ if (family === 'Liga Space Mono') { rootStyle.setProperty('font-feature-settings', '"liga" 0'); } else { rootStyle.removeProperty('font-feature-settings'); } return window.site._fetchFont(family); }, prefTheme: localStorage.getItem('prefTheme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'clean-night' : 'clean-day'), setTheme: (name) => { const rootStyle = document.querySelector(':root').style; if (name === 'clean-night') { rootStyle.removeProperty('color-scheme'); } else { rootStyle.setProperty('color-scheme', 'light'); } document.body.setAttribute('data-theme', name); localStorage.setItem('prefTheme', name); }, _fetchFont: (family) => { if (family === 'monospace') { return Promise.resolve(); } const familyNoSpaces = family.replaceAll(' ', ''); const fontz = [ new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Regular.woff2") format("woff2")', { display: 'swap', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Bold.woff2") format("woff2")', { display: 'swap', weight: 700 }), ]; if (family !== 'Fira Code') { fontz.push( new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Italic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-BoldItalic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 700 }) ); } for (const f of fontz) { document.fonts.add(f); } return Promise.allSettled(fontz).then(results => { results.forEach((res, i) => { if (res.status === 'rejected') { console.error('site failed to load font: ' + fontz[i]?.family ?? 'unknown'); } }); }); } }; window.site.setTheme(window.site.prefTheme); window.site.setFont(window.site.prefFont); })(); </script><header><nav><div class="nav-skip"><a href="#content">Skip to content</a></div><a aria-label="Home" class="nav-home" href="./">~</a><span>/</span></nav><div class="header-extra"><a href="./atom.xml">RSS</a><span aria-hidden="true">&compfn;</span><noscript>(requires JS &rarr;)</noscript><label for="select-theme">Theme</label><select data-select-theme id="select-theme"><option value="clean-day">Clean (Day)</option><option value="clean-night">Clean (Night)</option></select><span aria-hidden="true">&compfn;</span><label for="select-font">Font</label><select data-select-font id="select-font"><option value="monospace">monospace</option><option value="Liga Space Mono">Space Mono</option><option value="Victor Mono">Victor Mono</option><option value="Fira Code">Fira Code</option><option value="JetBrains Mono">JetBrains Mono</option></select></div></header><main id="content"><header data-area="heading"><h1>RiotJS Example</h1></header><section data-area="meta"><h2>Info</h2><table data-type="cols-y"><tbody><tr><th>Summary</th><td>A quick-dive in to RiotJS, with examples.</td></tr><tr><th>Shared</th><td>2015-01-28</td></tr><tr><th>Revised</th><td>2023-02-04 @ 18:00 UTC</td></tr></tbody></table></section><section data-area="note"><p>When I look at any of the myriad JavaScript UI libraries out there, I now ask two questions:</p><ul><li>Does data flow in one direction?</li><li>Do updates to the UI happen intelligently?</li></ul><p>I am a fan of Facebook‚Äôs <a href="https://facebook.github.io/react/">ReactJS</a> library because of its DOM diffing (via the ‚Äúvirtual DOM‚Äù) and one-way data binding. React is a tool I use every day and have come to enjoy (sans-JSX), but I am always on the lookout for way to do things simpler.</p><p>A colleague of mine recently shared the second iteration of <a href="https://muut.com/riotjs/">RiotJS</a> with me. Of course, I was sucked in because it compared itself with React (a bold statement). You can <a href="https://muut.com/riotjs/compare.html">view the comparisons between Riot and React</a> for yourself.</p><p>One unfortunate fact about fledgling JS libraries is that they lack examples of how to accomplish common goals for the web. This is an attempt to help out with that.</p><h2 id="installation">Installation</h2><h3 id="project-specific">Project-Specific</h3><p>Given you have a <code>package.json</code> set up, you can easily install the Riot compiler as a development dependency:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">npm install riot --save-dev</span></span></code></pre><p>and then set up Riot to run as an NPM script and watch for any changes</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-s2">"scripts"</span><span class="pl-o">:</span> <span class="pl-p">{</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-s2">"watch:riot"</span><span class="pl-o">:</span> <span class="pl-s2">"riot -w src/ build/"</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">}</span></span></span></code></pre><p>which is then run by a simple</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">npm run watch:riot</span></span></code></pre><p>Alternatively, you can <a href="https://muut.com/riotjs/download.html">download the riot.js library</a> via any of their recommended methods.</p><h3 id="global-installation-alternative">Global Installation (alternative)</h3><p>If you don‚Äôt have a <code>package.json</code> and want to install Riot globally:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">npm install riot -g
</span></span><span class="pl-line"><span class="pl-cl">riot -w src/ build/</span></span></code></pre><h2 id="tab-example">Tab Example</h2><p>I decided to start small and make a tabbing example where clicking a tab shows content related to it underneath. Here is the final product:</p><iframe class="iframe--example" frameborder="0" height="550" loading="async" src="https://rpearce.github.io/riotjs-examples/tabs.html"></iframe><h3 id="step-1-start-with-markup">Step 1: Start With Markup</h3><p>Starting with a blank HTML document, add the <code>&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</code> tag to your document:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">html</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">head</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">head</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">html</span><span class="pl-p">&gt;</span></span></span></code></pre><p>As mentioned previously, we know we need the (very tiny) RiotJS library, so don‚Äôt forget to include it:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">script</span> <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"path/to/riot-2.0.1.js"</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">script</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Easy enough, right? Given Riot doesn‚Äôt write our applications for us, we will need to tell Riot to mount some component, which in this case is ‚Äútabs.‚Äù</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">script</span> <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"path/to/riot-2.0.1.js"</span><span class="pl-p">&gt;&lt;/</span><span class="pl-nt">script</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">script</span><span class="pl-p">&gt;</span><span class="pl-nx">riot</span><span class="pl-p">.</span><span class="pl-nx">mount</span><span class="pl-p">(</span><span class="pl-s1">'riot-tabs'</span><span class="pl-p">)&lt;/</span><span class="pl-nt">script</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">body</span><span class="pl-p">&gt;</span></span></span></code></pre><p>When we run this code through the browser, we‚Äôre going to receive an error telling us that <code>'tabs'</code> is not a thing. Congrats! Time for Step 2.</p><h3 id="step-2-creating-your-custom-tag">Step 2: Creating Your Custom Tag</h3><p>Riot‚Äôs NPM package, as mentioned earlier, allows us to write and compile pseudo-markup mixed with a little JS. To get started, create a <code>src</code> folder and add a <code>tabs.tag</code> file to it, then run</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">npm run watch:riot</span></span></code></pre><p>if you have an NPM script set up or</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl">riot -w src/ build/</span></span></code></pre><p>to compile and watch for more changes to the file/folder.</p><p>Back in the <code>tabs.tag</code> file, add this:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 1<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 2<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 3<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>That looks almost exactly like vanilla HTML, save for the conditional class(es), which we will use later with <code>is-active</code> classes. Also, they are way better than concatenating <code>className</code> strings yourself.</p><p>Refreshing your browser will show you that you now have content that is nested within a <code>&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</code> tag.</p><p>Next up, we can add in the different tabs‚Äô contents:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 1<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 2<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>Tab 3<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(1) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(2) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(3) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Okay, this is no big deal, so far.</p><p>Being software developers, we hate writing things over and over, so let‚Äôs start with the tabs.</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabItem:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>{tab.title}<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(1) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(2) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tabContent__item:</span> <span class="pl-na">true</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>(3) Lorem ispum dolor...<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.tabs = [
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 1' },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 2' },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 3' }
</span></span><span class="pl-line"><span class="pl-cl">  ]
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Riot has a nice each={ item, i in array } attribute, similar to JavaScript‚Äôs for ‚Ä¶ in ‚Ä¶</p><p>While we‚Äôre at it, why not iterate over the content items, as well?</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabItem"</span><span class="pl-p">&gt;</span>{tab.title}<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent__item"</span><span class="pl-p">&gt;</span>{tab.content}<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.tabs = [
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 1', content: "(1) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 2', content: "(2) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 3', content: "(3) Lorem ipsum dolor" }
</span></span><span class="pl-line"><span class="pl-cl">  ]
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Next, we need to set a default ‚Äúactive tab‚Äù and ‚Äúactive content.‚Äù</p><h3 id="step-3-conditional-classes">Step 3: Conditional Classes</h3><p>We want to be able to specify a default tab and tab content. This is accomplished via a conditional <code>is-active</code> class on both the <code>.tabItem</code> as well as the corresponding <code>.tabContent__item</code>. To keep track of what tab/content is active, we can</p><ul><li>add a property to the <code>this.tabs</code> array objects</li><li>set an <code>activeTab</code> property and</li><li>create a function to check if the currently iterated tab is the <code>activeTab</code></li></ul><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabItem { is-active: parent.isActiveTab(tab.ref) }"</span><span class="pl-p">&gt;</span>{tab.title}<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent__item { is-active: parent.isActiveTab(tab.ref) }"</span><span class="pl-p">&gt;</span>{tab.content}<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.tabs = [
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 1', ref: 'tab1', content: "(1) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 2', ref: 'tab2', content: "(2) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 3', ref: 'tab3', content: "(3) Lorem ipsum dolor" }
</span></span><span class="pl-line"><span class="pl-cl">  ]
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.activeTab = 'tab1'
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  isActiveTab(tab) {
</span></span><span class="pl-line"><span class="pl-cl">    return this.activeTab === tab
</span></span><span class="pl-line"><span class="pl-cl">  }
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Since these are <em>conditional</em> classes, they will either be evaluated as true or false (I believe that anything that is not falsy is considered true; for example, <code>new Date()</code> is considered <code>true</code>). Here, we create a function called <code>isActiveTab</code> and call it from the item itself, but because the function is not scoped to the item, we need to access the <code>parent</code> scope and call the function on that.</p><p>Finally, we need a way to react to <em>events</em>.</p><h3 id="step-4-toggling-the-tabs">Step 4: Toggling the Tabs</h3><p>When we click on a tab, we want that tab to now be active, and we want the corresponding tab content to be displayed. This can be done via an <code>onclick</code> handler that calls a function on the parent called <code>toggleTab</code></p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>Tabs<span class="pl-p">&lt;/</span><span class="pl-nt">h2</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">li</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabItem { is-active: parent.isActiveTab(tab.ref) }"</span> <span class="pl-na">onclick</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">parent</span><span class="pl-err">.</span><span class="pl-na">toggleTab</span> <span class="pl-err">}</span><span class="pl-p">&gt;</span>{tab.title}<span class="pl-p">&lt;/</span><span class="pl-nt">li</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">ul</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent"</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">div</span> <span class="pl-na">each</span><span class="pl-o">=</span><span class="pl-s">{</span> <span class="pl-na">tab</span><span class="pl-err">,</span> <span class="pl-na">i</span> <span class="pl-na">in</span> <span class="pl-na">tabs</span> <span class="pl-err">}</span> <span class="pl-na">class</span><span class="pl-o">=</span><span class="pl-s">"tabContent__item { is-active: parent.isActiveTab(tab.ref) }"</span><span class="pl-p">&gt;</span>{tab.content}<span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">div</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.tabs = [
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 1', ref: 'tab1', content: "(1) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 2', ref: 'tab2', content: "(1) Lorem ipsum dolor" },
</span></span><span class="pl-line"><span class="pl-cl">    { title: 'Tab 3', ref: 'tab3', content: "(1) Lorem ipsum dolor" }
</span></span><span class="pl-line"><span class="pl-cl">  ]
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  this.activeTab = 'tab1'
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  isActiveTab(tab) {
</span></span><span class="pl-line"><span class="pl-cl">    return this.activeTab === tab
</span></span><span class="pl-line"><span class="pl-cl">  }
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  toggleTab(e) {
</span></span><span class="pl-line"><span class="pl-cl">    this.activeTab = e.item.tab.ref
</span></span><span class="pl-line"><span class="pl-cl">    return true
</span></span><span class="pl-line"><span class="pl-cl">  }
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">riot-tabs</span><span class="pl-p">&gt;</span></span></span></code></pre><p>The <code>onclick</code> event handler receives an event object that is packed with information. What we want is the current tab that we are clicking on, and this is accessed through <code>e.item.tab.ref</code>, which is just the <code>ref</code> property on the <code>tab</code> object of the currently iterated <code>item</code>.</p><p>According to the Riot docs, when an event handler is called, Riot will automatically call <code>this.update()</code> and re-render the component. However, I found that after I altered my data, I had to <code>return true</code>.</p><p>Once this event handler is completed and the component is re-rendered, the correct tab and content will be displayed, and you will be happy.</p><h2 id="wrap-up">Wrap up</h2><p>In sum, playing with Riot was a mostly enjoyable experience, and I am thankful to the <a href="https://muut.com/">Muut</a> folks for releasing it.</p><p>While there are quirks (single quote vs double quote issues, among others) and opinions (neglecting the use of semi-colons, as well as <code>return</code>s), this is a promising UI library that I am <em>definitely</em> going to consider vs.¬†React in my future projects.</p></section></main><footer><span aria-hidden="true" class="heart">‚ô•</span><span aria-hidden="true">&rarr;</span><a href="https://github.com/sponsors/rpearce/">Sponsor my work</a><span aria-hidden="true">&larr;</span><span aria-hidden="true" class="heart">‚ô•</span></footer><script async> (() => { const themeEl = document.querySelector('[data-select-theme]'); if (themeEl) { themeEl.querySelector('[value="'+window.site.prefTheme+'"]').selected = 'selected'; themeEl.addEventListener('change', e => { window.site.setTheme(e.target.value); }); } const fontEl = document.querySelector('[data-select-font]'); if (fontEl) { fontEl.querySelector('[value="'+window.site.prefFont+'"]').selected = 'selected'; fontEl.addEventListener('change', e => { window.site.setFont(e.target.value); }) } })(); </script></body></html>