<!DOCTYPE html><html lang="en"><head><title>How To Lose Functional Programming At Work</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Tips on how to unsuccessfully introduce and keep functional programming styles and principles in your workplace."><meta name="author" content="Robert Pearce"><meta name="keywords" content="functional programming, functional javascript, javascript, ramda, fp js"><meta name="google-site-verification" content="QX4bn65yOXBfgnwxlO09yIBc1H8blur-Erx3lmsDVhU"><meta http-equiv="origin-trial" content="Am4BZ0c7GMyB72dgo/Ny2FfIFscXhYMoN+CVe4jduWh24FvsaCwf7kjZzHzfrJXtIilyZVAEKRxOItGLY7lvkAgAAABSeyJvcmlnaW4iOiJodHRwczovL3JvYmVydHdwZWFyY2UuY29tOjQ0MyIsImZlYXR1cmUiOiJQb3J0YWxzIiwiZXhwaXJ5IjoxNjAzNTQ2NDc3fQ=="><meta property="og:site_name" content="Robert Pearce"><meta property="og:title" content="How To Lose Functional Programming At Work"><meta property="og:url" content="https://robertwpearce.com/how-to-lose-functional-programming-at-work.html"><meta property="og:description" content="Tips on how to unsuccessfully introduce and keep functional programming styles and principles in your workplace."><meta property="og:type" content="article"><meta property="twitter:site" content="Robert Pearce"><meta property="twitter:title" content="How To Lose Functional Programming At Work"><meta property="twitter:description" content="Tips on how to unsuccessfully introduce and keep functional programming styles and principles in your workplace."><meta property="twitter:creator" content="@RobertWPearce"><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>💾</text></svg>"><link rel="canonical" href="https://robertwpearce.com/how-to-lose-functional-programming-at-work.html"><link rel="alternate" href="./atom.xml" title="Robert Pearce's blog" type="application/atom+xml"><link rel="alternate" href="./rss.xml" title="Robert Pearce's blog" type="application/rss+xml"><link rel="stylesheet" href="./css/base.css"><link rel="stylesheet" href="./css/t-clean.css"><link rel="stylesheet" href="./css/t-clean-note.css"><link rel="stylesheet" href="./css/t-code-dracula.css"><link rel="prefetch" href="./css/t-clean-note.css"></head><body data-theme="clean-night"><script> (() => { window.site = { prefFont: localStorage.getItem('prefFont') || 'monospace', setFont: (family) => { localStorage.setItem('prefFont', family); const rootStyle = document.querySelector(':root').style; rootStyle.setProperty('--type-family-body', family+',monospace'); /* Remove when https://github.com/googlefonts/spacemono/pull/2 is resolved */ if (family === 'Liga Space Mono') { rootStyle.setProperty('font-feature-settings', '"liga" 0'); } else { rootStyle.removeProperty('font-feature-settings'); } return window.site._fetchFont(family); }, prefTheme: localStorage.getItem('prefTheme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'clean-night' : 'clean-day'), setTheme: (name) => { const rootStyle = document.querySelector(':root').style; if (name === 'clean-night') { rootStyle.removeProperty('color-scheme'); } else { rootStyle.setProperty('color-scheme', 'light'); } document.body.setAttribute('data-theme', name); localStorage.setItem('prefTheme', name); }, _fetchFont: (family) => { if (family === 'monospace') { return Promise.resolve(); } const familyNoSpaces = family.replaceAll(' ', ''); const fontz = [ new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Regular.woff2") format("woff2")', { display: 'swap', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Bold.woff2") format("woff2")', { display: 'swap', weight: 700 }), ]; if (family !== 'Fira Code') { fontz.push( new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Italic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-BoldItalic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 700 }) ); } for (const f of fontz) { document.fonts.add(f); } return Promise.allSettled(fontz).then(results => { results.forEach((res, i) => { if (res.status === 'rejected') { console.error('site failed to load font: ' + fontz[i]?.family ?? 'unknown'); } }); }); } }; window.site.setTheme(window.site.prefTheme); window.site.setFont(window.site.prefFont); })(); </script><header><nav><div class="nav-skip"><a href="#content">Skip to content</a></div><a aria-label="Home" class="nav-home" href="./">~</a><span>/</span></nav><div class="header-extra"><a href="./atom.xml">RSS</a><span aria-hidden="true">&compfn;</span><noscript>(requires JS &rarr;)</noscript><label for="select-theme">Theme</label><select data-select-theme id="select-theme"><option value="clean-day">Clean (Day)</option><option value="clean-night">Clean (Night)</option></select><span aria-hidden="true">&compfn;</span><label for="select-font">Font</label><select data-select-font id="select-font"><option value="monospace">monospace</option><option value="Liga Space Mono">Space Mono</option><option value="Victor Mono">Victor Mono</option><option value="Fira Code">Fira Code</option><option value="JetBrains Mono">JetBrains Mono</option></select></div></header><main id="content"><header data-area="heading"><h1>How To Lose Functional Programming At Work</h1></header><section data-area="meta"><h2>Info</h2><table data-type="cols-y"><tbody><tr><th>Summary</th><td>Tips on how to unsuccessfully introduce and keep functional programming styles and principles in your workplace.</td></tr><tr><th>Shared</th><td>2023-01-30</td></tr><tr><th>Revised</th><td>2023-01-30 @ 23:00 UTC</td></tr></tbody></table></section><section data-area="note"><p>Hi! If you’re looking to lose functional programming at work, here are a bunch of mistakes I’ve made on JS-heavy web teams over the years that can help you do the same.</p><p>Enjoy!</p><p><em>Note: if sarcasm and self-deprecation aren’t your thing, you can skip to the <a href="#real-talk-takeaways">real-talk takeaways</a>.</em></p><h2 id="pdf-version">PDF version</h2><p>Here is the much prettier PDF version that is also useful for sending to your teammates or using in your own lunch-n-learn tech talk.</p><p><em>Thanks to <a href="https://news.ycombinator.com/item?id=34569625">KronisLV on the orange site</a> for helping me fix an issue where the PDF was accidentally auto-downloading in Firefox.</em></p><object class="pdf" data="/pdfs/2023-01-24-how-to-lose-fp-at-work.pdf" title="How to Lose Functional Programming at Work - PDF" type="application/pdf"><p><p>Your browser doesn’t support PDF, but you can download the file here: <a href="/pdfs/2023-01-24-how-to-lose-fp-at-work.pdf">How to Lose Functional Programming at Work - PDF</a></p></object></p><p><a class="pdf-link" href="/pdfs/2023-01-24-how-to-lose-fp-at-work.pdf"> How to Lose Functional Programming at Work - PDF </a></p><h2 id="dont-have-static-type-checking">Don’t have static type checking</h2><ul><li>No <a href="https://www.typescriptlang.org">TypeScript</a></li><li>No <a href="https://flow.org">Flow</a></li><li>No <a href="https://reasonml.github.io">ReasonML</a></li><li>No <a href="https://elm-lang.org/">Elm</a></li><li>No (insert language with static type checking that compiles to JS)</li></ul><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">processData</span> <span class="pl-o">=</span> <span class="pl-nx">composeP</span><span class="pl-p">(</span><span class="pl-nx">syncWithBackend</span><span class="pl-p">,</span> <span class="pl-nx">cleansePII</span><span class="pl-p">,</span> <span class="pl-nx">validateData</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// * What arguments and their types are expected here?
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// * If each function is written like this, how can
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//   one suss out what data are flowing where?
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// * How hard is this going to be to debug?
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//   Use this everywhere: `(x) =&gt; (console.log(x), x)`
</span></span></span></code></pre><p>Oh, so point-free style programming is the problem? Not so fast:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">async</span> <span class="pl-kd">function</span> <span class="pl-nx">processData</span><span class="pl-p">(</span><span class="pl-nx">data</span><span class="pl-p">)</span> <span class="pl-p">{</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">validateData</span><span class="pl-p">(</span><span class="pl-nx">data</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">const</span> <span class="pl-nx">cleansedData</span> <span class="pl-o">=</span> <span class="pl-nx">cleansePII</span><span class="pl-p">(</span><span class="pl-nx">data</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">syncWithBackend</span><span class="pl-p">(</span><span class="pl-nx">cleansedData</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-k">return</span> <span class="pl-nx">data</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">}</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// or for the Promise-chainers…
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">processData</span> <span class="pl-o">=</span> <span class="pl-nx">data</span> <span class="pl-p">=&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">validateData</span><span class="pl-p">(</span><span class="pl-nx">data</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">.</span><span class="pl-nx">then</span><span class="pl-p">(</span><span class="pl-nx">cleansePII</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">.</span><span class="pl-nx">then</span><span class="pl-p">(</span><span class="pl-nx">syncWithBackend</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">.</span><span class="pl-nx">then</span><span class="pl-p">(()</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">data</span><span class="pl-p">)</span></span></span></code></pre><p>Do keep telling yourself that any of these 3, on their own, are easy for your teammates to work with after 3 months.</p><h2 id="dont-use-well-known-code-documentation-tools">Don’t use well-known code documentation tools</h2><ul><li>No <a href="https://jsdoc.app">jsdoc</a></li><li>…are there any other contenders?</li></ul><p>Deprive your team of this clarity and helpful auto-completion:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// NOTE: this is an untested, small example
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm">/**
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @typedef {Object} ReportingInfo
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @property {("light"|"dark")} userTheme - Current user's preferred theme
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @property {string} userName - Current user's name
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @property {UUID} postId - The current post's ID
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> */</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm">/**
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * Validates that the reporting data (current user site prefences and post info)
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * is OK, removes personally identifiable information, syncs this info with the
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * backend, and gives us back the original data.
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> *
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @param {ReportingInfo} data - The current user's site preferences and post info
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> * @returns {Promise&lt;ReportingInfo&gt;} - The original reporting data
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-cm"> */</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">processData</span> <span class="pl-o">=</span> <span class="pl-nx">data</span> <span class="pl-p">=&gt;</span> <span class="pl-c1">// …
</span></span></span></code></pre><h2 id="dont-properly-train-new-and-existing-colleagues">Don’t properly train new and existing colleagues</h2><p>Truly believe, in your heart, that you can write a pile of blog posts, collect a bunch of other great learning resources, hand them all to a new FP learner, recommend they read as much as they can then come back with questions, and expect them to come out the other side at all.</p><p>Conversely, spend all your time and energy on a couple of individuals, neglect the others, fail to write any useful learnings down, and forget to encourage these initiates to turn around and help teach their other colleagues, in turn.</p><h2 id="dont-bother-getting-the-other-engineering-teams-on-board-and-rowing-in-the-same-direction">Don’t bother getting the other engineering teams on board and rowing in the same direction</h2><ul><li>“If I build it, they will notice… right?”</li><li><em>Idea: Lunch ’n learn about FP?</em> Me: They’ll find out I don’t know things.</li><li><em>Idea: Meet with other team leaders and see if they’re interested in adoption, what could be better, or share why they’re not interested?</em> Me: This includes managers who report on things, and if they think I’m dumb or rocking the boat too much, I might look worse than I potentially already do.</li></ul><p>Instead, if you keep it to yourself, other teams won’t get to contribute and probably improve the state of things.</p><h2 id="do-live-by-the-creed-point-free-or-die">Do live by the creed, “Point-free or die”</h2><p>Watch the video, <a href="https://www.youtube.com/watch?v=seVSlKazsNk">“Point-Free or Die: Tacit Programming in Haskell and Beyond”</a>, by Amar Shah</p><p>Contrived example:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-p">{</span> <span class="pl-nx">__</span><span class="pl-p">,</span> <span class="pl-nx">any</span><span class="pl-p">,</span> <span class="pl-nx">lt</span> <span class="pl-p">}</span> <span class="pl-nx">from</span> <span class="pl-s1">'ramda'</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">anyLt0</span> <span class="pl-o">=</span> <span class="pl-nx">any</span><span class="pl-p">(</span><span class="pl-nx">lt</span><span class="pl-p">(</span><span class="pl-mi">0</span><span class="pl-p">,</span> <span class="pl-nx">__</span><span class="pl-p">))</span> <span class="pl-c1">// hint: this has a bug in it
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-nx">anyLt0</span><span class="pl-p">([</span><span class="pl-mi">1</span><span class="pl-p">,</span> <span class="pl-mi">2</span><span class="pl-p">,</span> <span class="pl-mi">3</span><span class="pl-p">])</span> <span class="pl-c1">// true — ugh…
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// vs. the probably pretty simple…
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">anyLt0</span> <span class="pl-o">=</span> <span class="pl-nx">numbers</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">numbers</span><span class="pl-p">.</span><span class="pl-nx">some</span><span class="pl-p">(</span><span class="pl-nx">n</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">n</span> <span class="pl-o">&lt;</span> <span class="pl-mi">0</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nx">anyLt0</span><span class="pl-p">([</span><span class="pl-mi">0</span><span class="pl-p">,</span> <span class="pl-mi">1</span><span class="pl-p">,</span> <span class="pl-mi">2</span><span class="pl-p">,</span> <span class="pl-mi">3</span><span class="pl-p">])</span> <span class="pl-c1">// false
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-nx">anyLt0</span><span class="pl-p">([</span><span class="pl-mi">0</span><span class="pl-p">,</span> <span class="pl-mi">1</span><span class="pl-p">,</span> <span class="pl-mi">2</span><span class="pl-p">,</span> <span class="pl-o">-</span><span class="pl-mi">1</span><span class="pl-p">,</span> <span class="pl-mi">3</span><span class="pl-p">])</span> <span class="pl-c1">// true — looks good
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// 👆 should we resist eta-converting this?!
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// …
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// NOT ON MY WATCH
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">any</span> <span class="pl-o">=</span> <span class="pl-nx">fn</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">array</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">array</span><span class="pl-p">.</span><span class="pl-nx">some</span><span class="pl-p">(</span><span class="pl-nx">fn</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">isLtN</span> <span class="pl-o">=</span> <span class="pl-nx">x</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">n</span> <span class="pl-p">=&gt;</span> <span class="pl-nx">x</span> <span class="pl-o">&lt;</span> <span class="pl-nx">n</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">isLt0</span> <span class="pl-o">=</span> <span class="pl-nx">isLtN</span><span class="pl-p">(</span><span class="pl-mi">0</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">anyLt0</span> <span class="pl-o">=</span> <span class="pl-nx">any</span><span class="pl-p">(</span><span class="pl-nx">isLt0</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-nx">anyLt0</span><span class="pl-p">([</span><span class="pl-mi">1</span><span class="pl-p">,</span> <span class="pl-mi">2</span><span class="pl-p">,</span> <span class="pl-mi">3</span><span class="pl-p">])</span> <span class="pl-c1">// true — ugh; the bug is back
</span></span></span></code></pre><p>Real, but altered, example:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">finishItems</span> <span class="pl-o">=</span> <span class="pl-nx">compose</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">flip</span><span class="pl-p">(</span><span class="pl-nx">merge</span><span class="pl-p">)({</span> <span class="pl-nx">isDone</span><span class="pl-o">:</span> <span class="pl-kc">true</span><span class="pl-p">,</span> <span class="pl-nx">amtComplete</span><span class="pl-o">:</span> <span class="pl-mi">100</span> <span class="pl-p">}),</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">over</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">lensProp</span><span class="pl-p">(</span><span class="pl-s1">'indexedObjects'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">mapVals</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">compose</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-nx">over</span><span class="pl-p">(</span><span class="pl-nx">lensProp</span><span class="pl-p">(</span><span class="pl-s1">'indexedObjects'</span><span class="pl-p">),</span> <span class="pl-nx">mapVals</span><span class="pl-p">(</span><span class="pl-nx">assoc</span><span class="pl-p">(</span><span class="pl-s1">'isDone'</span><span class="pl-p">,</span> <span class="pl-kc">true</span><span class="pl-p">))),</span>
</span></span><span class="pl-line"><span class="pl-cl">        <span class="pl-nx">assoc</span><span class="pl-p">(</span><span class="pl-s1">'isDone'</span><span class="pl-p">,</span> <span class="pl-kc">true</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">)</span></span></span></code></pre><h2 id="do-prefer-the-wrong-abstraction-over-the-right-duplication">Do prefer the wrong abstraction over the right duplication</h2><p>I was at Sandi Metz’ RailsConf 2014 Chicago talk, <a href="https://www.youtube.com/watch?v=8bZh5LMaSmE">All the Little Things</a>, where she blew my mind with the simplicity of “preferring duplication over the wrong abstraction”. Two years later, she followed it up with some great blog commentary, <a href="https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction">The Wrong Abstraction</a>.</p><p>But in this case, dilute your core business logic to broad generalizations that can be extracted and abstracted over and over, fail to understand category theory enough for this to be useful, and be the only one who knows how these abstractions work.</p><p>You’ll know you’ve lost people when normally thorough PR reviews now look like, “👍”.</p><h2 id="dont-refactor-old-patterns-that-clearly-dont-work-for-the-team">Don’t refactor old patterns that clearly don’t work for the team</h2><p>Make sure that people coming into the project have your old code patterns to emulate that you cringe looking at years later but never made the time to update.</p><p>While you could allocate investment time to this or reading up on how to improve your technical leadership skills, spend that time making new features, instead.</p><h2 id="do-force-functional-patterns-into-a-language-that-wasnt-built-for-them-bonus-cryptic-stack-traces">Do force functional patterns into a language that wasn’t built for them (bonus: cryptic stack traces)</h2><ul><li>Lean into recursive functions, realize ES2015 tail call optimization is only a thing in Safari nowadays (if that?), and sprinkle a <a href="https://github.com/getify/Functional-Light-JS/blob/master/manuscript/ch8.md/#trampolines"><code>trampoline</code></a> function over the issue to make it go away and not blow out your call stack</li><li>Get cryptic error messages and stack traces because JS isn’t going to be able to follow your custom <code>curry</code> and <code>compose</code> functions by default, meaning you’ll have to go the extra mile like Brian does in <a href="https://medium.com/@drboolean/debugging-functional-7deb4688a08c">Debugging functional</a> to prevent the issues described by Thai in <a href="https://medium.com/hackernoon/partially-applied-curried-functions-could-obfuscate-the-javascript-stack-trace-84d66bd8032e">Partially-applied (or curried) functions could obfuscate the JavaScript stack trace</a> (Thai’s ultimate recommendations are <em>“use a typed language that guarantees that your functions will never receive an invalid data”</em> or <em>“just don’t go overboard with pointfree style JavaScript”</em>).</li><li>The Glasgow Haskell Compiler can be optimized to fuse <code>map g . map f</code> into a single <code>map</code> thanks to composition, knocking out the work in one go at runtime. While <code>.map(…).map(…).map(…)</code> seems to be optimized pretty ok in JS runtimes, you’re still asking it do <em>N</em> times the work, and you may not realize it. Oops.</li><li>BYO algebraic data type libraries (many of these are awesome, though)</li></ul><h2 id="do-opaquely-compose-and-sequence-the-entirety-of-your-api-endpoints-and-make-them-hard-to-debug">Do opaquely compose and sequence the entirety of your API endpoints and make them hard to debug</h2><p>On the surface, this isn’t so difficult to read…</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// handler for POST /posts
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-p">{</span> <span class="pl-nx">createPost</span> <span class="pl-p">}</span> <span class="pl-nx">from</span> <span class="pl-s1">'app/db/posts'</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-p">{</span> <span class="pl-nx">authenticateUser</span><span class="pl-p">,</span> <span class="pl-nx">authorizeUser</span> <span class="pl-p">}</span> <span class="pl-nx">from</span> <span class="pl-s1">'app/lib/auth'</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-p">{</span> <span class="pl-nx">trackEvent</span> <span class="pl-p">}</span> <span class="pl-nx">from</span> <span class="pl-s1">'app/lib/tracking'</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">validateRequestSchema</span> <span class="pl-o">=</span> <span class="pl-nx">payload</span> <span class="pl-p">=&gt;</span> <span class="pl-p">{</span> <span class="pl-cm">/* … */</span> <span class="pl-p">}</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">export</span> <span class="pl-kr">const</span> <span class="pl-nx">handleCreatePost</span> <span class="pl-o">=</span> <span class="pl-nx">curry</span><span class="pl-p">(</span><span class="pl-nx">metadata</span> <span class="pl-p">=&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">pipeP</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">authenticateUser</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">authorizeUser</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">validateRequestSchema</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">createPost</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">tapP</span><span class="pl-p">(</span><span class="pl-nx">trackEvent</span><span class="pl-p">(</span><span class="pl-s1">'post:create'</span><span class="pl-p">,</span> <span class="pl-nx">metadata</span><span class="pl-p">)),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">pick</span><span class="pl-p">([</span> <span class="pl-s1">'id'</span><span class="pl-p">,</span> <span class="pl-s1">'authorId'</span><span class="pl-p">,</span> <span class="pl-s1">'title'</span> <span class="pl-p">])</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">)</span></span></span></code></pre><p>Did you catch that this expects 2 arguments? Did you also know that <code>authenticateUser</code> ignores the 2nd argument sent to it? How would you? And what about <code>trackEvent</code>? Does it receive the <code>payload</code>, or does <code>createPost()</code> return post-related data?</p><p>Let’s write this another way:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">export</span> <span class="pl-kr">async</span> <span class="pl-kd">function</span> <span class="pl-nx">handleCreatePost</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">,</span> <span class="pl-nx">payload</span><span class="pl-p">)</span> <span class="pl-p">{</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">authenticateUser</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">authorizeUser</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">,</span> <span class="pl-nx">payload</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">validateRequestSchema</span><span class="pl-p">(</span><span class="pl-nx">payload</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">const</span> <span class="pl-nx">post</span> <span class="pl-o">=</span> <span class="pl-kr">await</span> <span class="pl-nx">createPost</span><span class="pl-p">(</span><span class="pl-nx">metadata</span><span class="pl-p">,</span> <span class="pl-nx">payload</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-kr">await</span> <span class="pl-nx">trackEvent</span><span class="pl-p">(</span><span class="pl-s1">'post:create'</span><span class="pl-p">,</span> <span class="pl-nx">metadata</span><span class="pl-p">,</span> <span class="pl-nx">payload</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-k">return</span> <span class="pl-p">{</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">id</span><span class="pl-o">:</span> <span class="pl-nx">post</span><span class="pl-p">.</span><span class="pl-nx">id</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">authorId</span><span class="pl-o">:</span> <span class="pl-nx">post</span><span class="pl-p">.</span><span class="pl-nx">authorId</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">title</span><span class="pl-o">:</span> <span class="pl-nx">post</span><span class="pl-p">.</span><span class="pl-nx">title</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">}</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">}</span></span></span></code></pre><p>I’m not saying that option #2 is an awesome handler, but if you want to make it trickier for people, go with option #1.</p><h2 id="do-recreate-imperative-procedural-programming-while-calling-it-declarative">Do recreate imperative, procedural programming while calling it “declarative”</h2><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">const</span> <span class="pl-nx">setBookReadPercentByType</span> <span class="pl-o">=</span> <span class="pl-p">(</span><span class="pl-nx">contentType</span><span class="pl-p">,</span> <span class="pl-nx">statusObject</span><span class="pl-p">)</span> <span class="pl-p">=&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">assoc</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-s1">'readPercent'</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">pipe</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">prop</span><span class="pl-p">(</span><span class="pl-s1">'subItems'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">values</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">filter</span><span class="pl-p">(</span><span class="pl-nx">propEq</span><span class="pl-p">(</span><span class="pl-nx">contentType</span><span class="pl-p">,</span> <span class="pl-s1">'chapter'</span><span class="pl-p">)),</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">length</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">flip</span><span class="pl-p">(</span><span class="pl-nx">divide</span><span class="pl-p">)(</span><span class="pl-nx">compose</span><span class="pl-p">(</span><span class="pl-nx">length</span><span class="pl-p">,</span> <span class="pl-nx">keys</span><span class="pl-p">,</span> <span class="pl-nx">prop</span><span class="pl-p">(</span><span class="pl-s1">'subItems'</span><span class="pl-p">))(</span><span class="pl-nx">statusObject</span><span class="pl-p">)),</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">multiply</span><span class="pl-p">(</span><span class="pl-mi">100</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nb">Math</span><span class="pl-p">.</span><span class="pl-nx">round</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">)(</span><span class="pl-nx">statusObject</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">statusObject</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span></span></span></code></pre><p>Do have 8+-ish different patterns for function composition</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// 👇 These 4, plus Promisified versions of them,
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//    plus combinations of them all used at once;
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">//    doesn't include ramda's pipeWith and composeWith
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// compose
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-kr">const</span> <span class="pl-nx">getHighScorers</span> <span class="pl-o">=</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">compose</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">mapProp</span><span class="pl-p">(</span><span class="pl-s1">'name'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">takeN</span><span class="pl-p">(</span><span class="pl-mi">3</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">descBy</span><span class="pl-p">(</span><span class="pl-s1">'score'</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// pipe
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-kr">const</span> <span class="pl-nx">getHighScorers</span> <span class="pl-o">=</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">pipe</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">descBy</span><span class="pl-p">(</span><span class="pl-s1">'score'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">takeN</span><span class="pl-p">(</span><span class="pl-mi">3</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">mapProp</span><span class="pl-p">(</span><span class="pl-s1">'name'</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// composeWithValue
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-kr">const</span> <span class="pl-nx">getHighScorers</span> <span class="pl-o">=</span> <span class="pl-nx">players</span> <span class="pl-p">=&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">composeWithValue</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">mapProp</span><span class="pl-p">(</span><span class="pl-s1">'name'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">takeN</span><span class="pl-p">(</span><span class="pl-mi">3</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">descBy</span><span class="pl-p">(</span><span class="pl-s1">'score'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">players</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// pipeWithValue
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-kr">const</span> <span class="pl-nx">getHighScorers</span> <span class="pl-o">=</span> <span class="pl-nx">players</span> <span class="pl-p">=&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-nx">pipeWithValue</span><span class="pl-p">(</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">players</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">descBy</span><span class="pl-p">(</span><span class="pl-s1">'score'</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">takeN</span><span class="pl-p">(</span><span class="pl-mi">3</span><span class="pl-p">),</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-nx">mapProp</span><span class="pl-p">(</span><span class="pl-s1">'name'</span><span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">)</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// …but then now mix and match them with actual,
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// real-life business logic.
</span></span></span></code></pre><h2 id="do-make-yourself-one-of-the-few-who-can-debug-algebraic-data-types-during-midnight-incidents">Do make yourself one of the few who can debug algebraic data types during midnight incidents</h2><p>Ensure your team is surprised by all of the following words when debugging or altering your code in the pursuit of their own work tasks:</p><ul><li><code>Task</code>, <code>Maybe</code>, <code>Either</code>, <code>Result</code>, <code>Pair</code>, <code>State</code></li><li><code>bimap</code></li><li><code>chain</code></li><li><code>bichain</code></li><li><code>option</code></li><li><code>coalesce</code></li><li><code>fork</code></li><li><code>sequence</code></li><li><code>ap</code></li><li><code>map</code> — and I don’t mean <code>Array.prototype.map</code>, nor a <code>new Map()</code>, nor a key/value object</li></ul><h2 id="dont-have-sql-a-declarative-language-do-data-transformations-for-you--diwhy-it-yourself">Don’t have SQL (a declarative language) do data transformations for you — DIWHY??? it yourself</h2><p>Instead, and in the name of immutability, use data pipelines in your app to apply changes to your data, one transformation at a time, and accidentally do as many key/value iterations and memory allocations as possible. 😬</p><h2 id="do-suggest-on-prs-that-colleagues-completely-refactor-what-theyve-done-to-fit-your-functional-style">Do suggest, on PRs, that colleagues completely refactor what they’ve done to fit <em>your</em> functional style</h2><blockquote><p>What you have here works great, but what could this look like if we flipped all the function arguments around, removed all these intermediate variables, and mapped these operations over an <code>Either</code>?</p></blockquote><p>or</p><blockquote><p>I noticed you’re explicitly constructing these objects in their functions. If you were to use &lt;UTILITY-FUNCTION&gt;, you could declare the shape of your outputted object and use functions as the values to look up or compute each value given some data.</p></blockquote><h2 id="and-for-some-quick-final-ones">And for some quick final ones…</h2><ul><li>Do sow imposter syndrome in others and exclude them by sharing non-beginner FP articles</li><li>Do keep writing code using FP tools even when nobody else on the team is</li><li>Do achieve peak perceived passive-aggression by getting tired and commenting PRs with emojis</li><li>Do have “the FP talk” at work, and then publicly own your mistakes</li></ul><h2 id="real-talk-takeaways">Real-talk takeaways</h2><p>Much of the backwards recommendations here can be, on the surface, written off as symptoms of inexperience, a lack of technical leadership from me, and obviously not the right paths.</p><p>But I think it’s something deeper than those easy explanations.</p><p>Most things in life need to be tended to in order for them to go the ways that we’d like them to; our relationships, our physical &amp; mental health, our gardens. With most of these things in life, we strive to purposefully sculpt our futures.</p><p>However, there are many things that we accidentally sculpt. For example, if the fastest way from your back door to your garden is through your grassy yard, the simplest thing is to walk over the grass to get there. It makes sense for a while, but over time, your stepping on the grass carves a path that you never intended to create — it was an unintended consequence of your gardening.</p><p>This same thing happens with our minds and in our work. If we’re not paying attention to the big picture, the path of least resistance can carve canyons.</p><p>In my case, here, not taking responsibility of a path I helped create, coupled with persistent imposter syndrome and a feeling I needed to ship features and just look out for myself, instead of making time for re-evaluation, helped lead to the difficulties above for others and a loss of “higher” functional programming in a pretty good workplace that gives teams the freedom to choose their own tools.</p><p>But all is not lost! The core tenets of FP seem to remain:</p><ul><li>Immutability: Preferring to <em>efficiently</em> recreate objects over mutating the originals</li><li>Purity: call the same function with the same arguments, and you get the same results</li><li>Moving effects to the conceptual edge of an application</li><li>Very few classes (if any; <code>React</code> doesn’t count), no inheritance, <code>map</code>/<code>filter</code>/<code>reduce</code>, etc.</li></ul><p>It seems a happy balance has been collectively decided on, and I’m excited to see where it goes. Perhaps, this time around, I’ll be better.</p><hr /><p>Thanks for reading, <br /> Robert</p></section></main><footer><span aria-hidden="true" class="heart">♥</span><span aria-hidden="true">&rarr;</span><a href="https://github.com/sponsors/rpearce/">Sponsor my work</a><span aria-hidden="true">&larr;</span><span aria-hidden="true" class="heart">♥</span></footer><script async> (() => { const themeEl = document.querySelector('[data-select-theme]'); if (themeEl) { themeEl.querySelector('[value="'+window.site.prefTheme+'"]').selected = 'selected'; themeEl.addEventListener('change', e => { window.site.setTheme(e.target.value); }); } const fontEl = document.querySelector('[data-select-font]'); if (fontEl) { fontEl.querySelector('[value="'+window.site.prefFont+'"]').selected = 'selected'; fontEl.addEventListener('change', e => { window.site.setFont(e.target.value); }) } })(); </script></body></html>