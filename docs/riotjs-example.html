<!DOCTYPE html>
<html lang="en">
  <head>
    <title>RiotJS Example</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="description" content="A quick-dive in to RiotJS, with examples.">
    <meta name="google-site-verification" content="QX4bn65yOXBfgnwxlO09yIBc1H8blur-Erx3lmsDVhU">

    <meta property="og:site_name" content="Robert Pearce | Freelance Software Developer">
    <meta property="og:title" content="RiotJS Example">
    <meta property="og:url" content="https://robertwpearce.com/riotjs-example.html">
    <meta property="og:description" content="A quick-dive in to RiotJS, with examples.">
    <meta property="og:image" content="https://robertwpearce.com/images/riotjs.jpg">
    
      <meta property="og:type" content="article">
    

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="Robert Pearce | Freelance Software Developer">
    <meta property="twitter:title" content="RiotJS Example">
    <meta property="twitter:description" content="A quick-dive in to RiotJS, with examples.">
    <meta property="twitter:image" content="https://robertwpearce.com/images/riotjs.jpg">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="canonical" href="https://robertwpearce.com/riotjs-example.html">
    <link href="//fonts.googleapis.com/css?family=Lato:400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/default.css" />
    
    <link rel="stylesheet" href="/css/post.css" />
    
  </head>
  <body>
    <main>
  <nav class="nav">
  <div class="layout--constrained">
    <a class="nav__link" href="/">Home</a>
    <a class="nav__link" href="mailto:me@robertwpearce.com?subject=Work Inquiry">Hire Me</a>
    <a class="nav__link" href="/atom.xml">atom</a>
    <a class="nav__link" href="/rss.xml">rss</a>
  </div>
</nav>

  <article class="article">
    <div class="article__bg" style="background-image: url('/images/riotjs.jpg')">
      <header class="article__bgHeader">
        <div class="layout--constrained">
          <div class="article__bgTitleWrap">
            <h1 class="article__bgTitle">
              <a href="/riotjs-example.html">RiotJS Example</a>
            </h1>
            <div class="article__bgSubHeader">
              <small class="italic">Jan 28, 2015</small>
              
            </div>
          </div>
        </div>
      </header>
    </div>
    <section class="layout--constrained">
      <header class="article__header">
        <h1 class="article__title">
          <a href="/riotjs-example.html">RiotJS Example</a>
        </h1>
        <small class="italic">Jan 28, 2015</small>
      </header>
      <p>When I look at any of the myriad JavaScript UI libraries out there, I now ask two questions:</p>
<ul>
<li>Does data flow in one direction?</li>
<li>Do updates to the UI happen intelligently?</li>
</ul>
<p>I am a fan of Facebook’s <a href="https://facebook.github.io/react/">ReactJS</a> library because of its DOM diffing (via the “virtual DOM”) and one-way data binding. React is a tool I use every day and have come to enjoy (sans-JSX), but I am always on the lookout for way to do things simpler.</p>
<p>A colleague of mine recently shared the second iteration of <a href="https://muut.com/riotjs/">RiotJS</a> with me. Of course, I was sucked in because it compared itself with React (a bold statement). You can <a href="https://muut.com/riotjs/compare.html">view the comparisons between Riot and React</a> for yourself.</p>
<p>One unfortunate fact about fledgling JS libraries is that they lack examples of how to accomplish common goals for the web. This is an attempt to help out with that.</p>
<h2>Installation</h2>
<h3>Project-Specific</h3>
<p><span style="text-decoration:line-through;">While I am not a fan of Facebook’s JSX (and don’t use it–more to come in future blog posts on this), Riot’s pre-compiled syntax is much easier to swallow.</span> Given you have a <code>package.json</code> set up, you can easily install the Riot compiler as a development dependency</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="ex">npm</span> install riot --save-dev</a></code></pre></div>
<p>and then set up Riot to run as an NPM script and watch for any changes</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="st">&quot;scripts&quot;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="st">&quot;watch:riot&quot;</span><span class="op">:</span> <span class="st">&quot;riot -w src/ build/&quot;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>which is then run by a simple</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1">$ <span class="ex">npm</span> run watch:riot</a></code></pre></div>
<p>Alternatively, you can <a href="https://muut.com/riotjs/download.html">download the riot.js library</a> via any of their recommended methods.</p>
<h3>Global Installation (alternative)</h3>
<p>If you don’t have a <code>package.json</code> and want to install Riot globally:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1">$ <span class="ex">npm</span> install riot -g</a>
<a class="sourceLine" id="cb4-2" title="2">$ <span class="ex">riot</span> -w src/ build/</a></code></pre></div>
<h2>Tab Example</h2>
<p>I decided to start small and make a tabbing example where clicking a tab shows content related to it underneath. Here is the final product:</p>
<iframe class="iframe--example" frameborder="0" src="https://rpearce.github.io/riotjs-examples/tabs.html" style="height: 550px;">
</iframe>
<h3>Step 1: Start With Markup</h3>
<p>Starting with a blank HTML document, add the <code>&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</code> tag to your document:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb5-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="kw">&lt;head&gt;&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="kw">&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>As mentioned previously, we know we need the (very tiny) RiotJS library, so don’t forget to include it:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="kw">&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;path/to/riot-2.0.1.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">&lt;/body&gt;</span></a></code></pre></div>
<p>Easy enough, right? Given Riot doesn’t write our applications for us, we will need to tell Riot to mount some component, which in this case is “tabs.”</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="kw">&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;path/to/riot-2.0.1.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="kw">&lt;script&gt;</span><span class="va">riot</span>.<span class="at">mount</span>(<span class="st">&#39;riot-tabs&#39;</span>)<span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="kw">&lt;/body&gt;</span></a></code></pre></div>
<p>When we run this code through the browser, we’re going to receive an error telling us that <code>'tabs'</code> is not a thing. Congrats! Time for Step 2.</p>
<h3>Step 2: Creating Your Custom Tag</h3>
<p>Riot’s NPM package, as mentioned earlier, allows us to write and compile pseudo-markup mixed with a little JS. To get started, create a <code>src</code> folder and add a <code>tabs.tag</code> file to it, then run</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1">$ <span class="ex">npm</span> run watch:riot</a></code></pre></div>
<p>if you have an NPM script set up or</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1">$ <span class="ex">riot</span> -w src/ build/</a></code></pre></div>
<p>to compile and watch for more changes to the file/folder.</p>
<p>Back in the <code>tabs.tag</code> file, add this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 1<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 2<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 3<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb10-7" title="7">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>That looks almost exactly like vanilla HTML, save for the conditional class(es), which we will use later with <code>is-active</code> classes. Also, they are way better than concatenating <code>className</code> strings yourself.</p>
<p>Refreshing your browser will show you that you now have content that is nested within a <code>&lt;riot-tabs&gt;&lt;/riot-tabs&gt;</code> tag.</p>
<p>Next up, we can add in the different tabs’ contents:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb11-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 1<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb11-5" title="5">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 2<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>Tab 3<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb11-8" title="8">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;tabContent&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb11-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(1) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb11-10" title="10">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(2) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb11-11" title="11">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(3) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb11-12" title="12">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>Okay, this is no big deal, so far.</p>
<p>Being software developers, we hate writing things over and over, so let’s start with the tabs.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabItem: true</span> <span class="er">}</span><span class="kw">&gt;</span>{tab.title}<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb12-6" title="6">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;tabContent&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb12-7" title="7">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(1) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb12-8" title="8">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(2) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb12-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">{</span><span class="ot"> tabContent__item: true</span> <span class="er">}</span><span class="kw">&gt;</span>(3) Lorem ispum dolor...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb12-10" title="10">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb12-11" title="11"></a>
<a class="sourceLine" id="cb12-12" title="12">  this.tabs = [</a>
<a class="sourceLine" id="cb12-13" title="13">    { title: &#39;Tab 1&#39; },</a>
<a class="sourceLine" id="cb12-14" title="14">    { title: &#39;Tab 2&#39; },</a>
<a class="sourceLine" id="cb12-15" title="15">    { title: &#39;Tab 3&#39; }</a>
<a class="sourceLine" id="cb12-16" title="16">  ]</a>
<a class="sourceLine" id="cb12-17" title="17"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>Riot has a nice each={ item, i in array } attribute, similar to JavaScript’s for … in …</p>
<p>While we’re at it, why not iterate over the content items, as well?</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabItem&quot;</span><span class="kw">&gt;</span>{tab.title}<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb13-5" title="5">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb13-6" title="6">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;tabContent&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb13-7" title="7">    <span class="kw">&lt;div</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabContent__item&quot;</span><span class="kw">&gt;</span>{tab.content}<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb13-8" title="8">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb13-9" title="9"></a>
<a class="sourceLine" id="cb13-10" title="10">  this.tabs = [</a>
<a class="sourceLine" id="cb13-11" title="11">    { title: &#39;Tab 1&#39;, content: &quot;(1) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb13-12" title="12">    { title: &#39;Tab 2&#39;, content: &quot;(2) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb13-13" title="13">    { title: &#39;Tab 3&#39;, content: &quot;(3) Lorem ipsum dolor&quot; }</a>
<a class="sourceLine" id="cb13-14" title="14">  ]</a>
<a class="sourceLine" id="cb13-15" title="15"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>Next, we need to set a default “active tab” and “active content.”</p>
<h3>Step 3: Conditional Classes</h3>
<p>We want to be able to specify a default tab and tab content. This is accomplished via a conditional <code>is-active</code> class on both the <code>.tabItem</code> as well as the corresponding <code>.tabContent__item</code>. To keep track of what tab/content is active, we can</p>
<ul>
<li>add a property to the <code>this.tabs</code> array objects</li>
<li>set an <code>activeTab</code> property and</li>
<li>create a function to check if the currently iterated tab is the <code>activeTab</code></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabItem { is-active: parent.isActiveTab(tab.ref) }&quot;</span><span class="kw">&gt;</span>{tab.title}<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;tabContent&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="kw">&lt;div</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabContent__item { is-active: parent.isActiveTab(tab.ref) }&quot;</span><span class="kw">&gt;</span>{tab.content}<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb14-8" title="8">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb14-9" title="9"></a>
<a class="sourceLine" id="cb14-10" title="10">  this.tabs = [</a>
<a class="sourceLine" id="cb14-11" title="11">    { title: &#39;Tab 1&#39;, ref: &#39;tab1&#39;, content: &quot;(1) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb14-12" title="12">    { title: &#39;Tab 2&#39;, ref: &#39;tab2&#39;, content: &quot;(2) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb14-13" title="13">    { title: &#39;Tab 3&#39;, ref: &#39;tab3&#39;, content: &quot;(3) Lorem ipsum dolor&quot; }</a>
<a class="sourceLine" id="cb14-14" title="14">  ]</a>
<a class="sourceLine" id="cb14-15" title="15"></a>
<a class="sourceLine" id="cb14-16" title="16">  this.activeTab = &#39;tab1&#39;</a>
<a class="sourceLine" id="cb14-17" title="17"></a>
<a class="sourceLine" id="cb14-18" title="18">  isActiveTab(tab) {</a>
<a class="sourceLine" id="cb14-19" title="19">    return this.activeTab === tab</a>
<a class="sourceLine" id="cb14-20" title="20">  }</a>
<a class="sourceLine" id="cb14-21" title="21"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>Since these are <em>conditional</em> classes, they will either be evaluated as true or false (I believe that anything that is not falsy is considered true; for example, <code>new Date()</code> is considered <code>true</code>). Here, we create a function called <code>isActiveTab</code> and call it from the item itself, but because the function is not scoped to the item, we need to access the <code>parent</code> scope and call the function on that.</p>
<p>Finally, we need a way to react to <em>events</em>.</p>
<h3>Step 4: Toggling the Tabs</h3>
<p>When we click on a tab, we want that tab to now be active, and we want the corresponding tab content to be displayed. This can be done via an <code>onclick</code> handler that calls a function on the parent called <code>toggleTab</code></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">&lt;riot-tabs&gt;</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="kw">&lt;h2&gt;</span>Tabs<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="kw">&lt;ul&gt;</span></a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="kw">&lt;li</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabItem { is-active: parent.isActiveTab(tab.ref) }&quot;</span><span class="ot"> onclick=</span><span class="st">{</span><span class="ot"> parent.toggleTab</span> <span class="er">}</span><span class="kw">&gt;</span>{tab.title}<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb15-5" title="5">  <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb15-6" title="6">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;tabContent&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb15-7" title="7">    <span class="kw">&lt;div</span><span class="ot"> each=</span><span class="st">{</span><span class="ot"> tab</span><span class="er">,</span><span class="ot"> i in tabs</span> <span class="er">}</span><span class="ot"> class=</span><span class="st">&quot;tabContent__item { is-active: parent.isActiveTab(tab.ref) }&quot;</span><span class="kw">&gt;</span>{tab.content}<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb15-8" title="8">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb15-9" title="9"></a>
<a class="sourceLine" id="cb15-10" title="10">  this.tabs = [</a>
<a class="sourceLine" id="cb15-11" title="11">    { title: &#39;Tab 1&#39;, ref: &#39;tab1&#39;, content: &quot;(1) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb15-12" title="12">    { title: &#39;Tab 2&#39;, ref: &#39;tab2&#39;, content: &quot;(1) Lorem ipsum dolor&quot; },</a>
<a class="sourceLine" id="cb15-13" title="13">    { title: &#39;Tab 3&#39;, ref: &#39;tab3&#39;, content: &quot;(1) Lorem ipsum dolor&quot; }</a>
<a class="sourceLine" id="cb15-14" title="14">  ]</a>
<a class="sourceLine" id="cb15-15" title="15"></a>
<a class="sourceLine" id="cb15-16" title="16">  this.activeTab = &#39;tab1&#39;</a>
<a class="sourceLine" id="cb15-17" title="17"></a>
<a class="sourceLine" id="cb15-18" title="18">  isActiveTab(tab) {</a>
<a class="sourceLine" id="cb15-19" title="19">    return this.activeTab === tab</a>
<a class="sourceLine" id="cb15-20" title="20">  }</a>
<a class="sourceLine" id="cb15-21" title="21"></a>
<a class="sourceLine" id="cb15-22" title="22">  toggleTab(e) {</a>
<a class="sourceLine" id="cb15-23" title="23">    this.activeTab = e.item.tab.ref</a>
<a class="sourceLine" id="cb15-24" title="24">    return true</a>
<a class="sourceLine" id="cb15-25" title="25">  }</a>
<a class="sourceLine" id="cb15-26" title="26"><span class="kw">&lt;/riot-tabs&gt;</span></a></code></pre></div>
<p>The <code>onclick</code> event handler receives an event object that is packed with information. What we want is the current tab that we are clicking on, and this is accessed through <code>e.item.tab.ref</code>, which is just the <code>ref</code> property on the <code>tab</code> object of the currently iterated <code>item</code>.</p>
<p>According to the Riot docs, when an event handler is called, Riot will automatically call <code>this.update()</code> and re-render the component. However, I found that after I altered my data, I had to <code>return true</code>.</p>
<p>Once this event handler is completed and the component is re-rendered, the correct tab and content will be displayed, and you will be happy.</p>
<h2>Wrap up</h2>
<p>In sum, playing with Riot was a mostly enjoyable experience, and I am thankful to the <a href="https://muut.com/">Muut</a> folks for releasing it.</p>
<p>While there are quirks (single quote vs double quote issues, among others) and opinions (neglecting the use of semi-colons, as well as <code>return</code>s), this is a promising UI library that I am <em>definitely</em> going to consider vs. React in my future projects.</p>
    </section>
  </article>
</main>

<section class="subscribe section--padded bg--gray">
  <div class="layout--constrained">
    <h2 class="subscribe__header">Get notified of new posts</h2>

    <form action="//robertwpearce.us13.list-manage.com/subscribe/post?u=2df44e8960266388bff165fa6&amp;id=ee2f2a3737" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate class="subscribe__form">
      <div id="mce-responses">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
      </div>
      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_2df44e8960266388bff165fa6_ee2f2a3737" tabindex="-1" value=""></div>
      <div class="subscribe__section">
        <label for="mce-EMAIL" class="subscribe__label">Email Address</label>
        <input type="email" value="" id="mce-EMAIL" class="subscribe__input" name="EMAIL" placeholder="you@greatemail.com">
        <input type="submit" value="Subscribe" name="subscribe" class="subscribe__submit">
      </div>
      <small>Note: I will <em>never</em> give out your email nor spam you. Unsubscribe at any time.</small>
    </form>

    <p>
      <small>(or subscribe to the <a href="/atom.xml">atom</a> or <a href="/rss.xml">rss</a> feeds)</small>
    </p>
  </div>
</section>


  </body>
</html>
