<!DOCTYPE html><html lang="en"><head><title>Announcing react-medium-image-zoom v4</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="react-medium-image-zoom is an open source image zooming library based on medium.com's implementation of image zooming"><meta name="author" content="Robert Pearce"><meta name="keywords" content="react, react-medium-image-zoom, image zoom, image, zoom, reactjs"><meta name="google-site-verification" content="QX4bn65yOXBfgnwxlO09yIBc1H8blur-Erx3lmsDVhU"><meta http-equiv="origin-trial" content="Am4BZ0c7GMyB72dgo/Ny2FfIFscXhYMoN+CVe4jduWh24FvsaCwf7kjZzHzfrJXtIilyZVAEKRxOItGLY7lvkAgAAABSeyJvcmlnaW4iOiJodHRwczovL3JvYmVydHdwZWFyY2UuY29tOjQ0MyIsImZlYXR1cmUiOiJQb3J0YWxzIiwiZXhwaXJ5IjoxNjAzNTQ2NDc3fQ=="><meta property="og:site_name" content="Robert Pearce"><meta property="og:title" content="Announcing react-medium-image-zoom v4"><meta property="og:url" content="https://robertwpearce.com/announcing-react-medium-image-zoom-v4.html"><meta property="og:description" content="react-medium-image-zoom is an open source image zooming library based on medium.com's implementation of image zooming"><meta property="og:type" content="article"><meta property="twitter:site" content="Robert Pearce"><meta property="twitter:title" content="Announcing react-medium-image-zoom v4"><meta property="twitter:description" content="react-medium-image-zoom is an open source image zooming library based on medium.com's implementation of image zooming"><meta property="twitter:creator" content="@RobertWPearce"><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ’¾</text></svg>"><link rel="canonical" href="https://robertwpearce.com/announcing-react-medium-image-zoom-v4.html"><link rel="alternate" href="./atom.xml" title="Robert Pearce's blog" type="application/atom+xml"><link rel="alternate" href="./rss.xml" title="Robert Pearce's blog" type="application/rss+xml"><link rel="stylesheet" href="./css/base.css"><link rel="stylesheet" href="./css/t-clean.css"><link rel="stylesheet" href="./css/t-clean-note.css"><link rel="stylesheet" href="./css/t-code-dracula.css"><link rel="prefetch" href="./css/t-clean-note.css"></head><body data-theme="clean-night"><script> (() => { window.site = { prefFont: localStorage.getItem('prefFont') || 'monospace', setFont: (family) => { localStorage.setItem('prefFont', family); const rootStyle = document.querySelector(':root').style; rootStyle.setProperty('--type-family-body', family+',monospace'); /* Remove when https://github.com/googlefonts/spacemono/pull/2 is resolved */ if (family === 'Liga Space Mono') { rootStyle.setProperty('font-feature-settings', '"liga" 0'); } else { rootStyle.removeProperty('font-feature-settings'); } return window.site._fetchFont(family); }, prefTheme: localStorage.getItem('prefTheme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'clean-night' : 'clean-day'), setTheme: (name) => { const rootStyle = document.querySelector(':root').style; if (name === 'clean-night') { rootStyle.removeProperty('color-scheme'); } else { rootStyle.setProperty('color-scheme', 'light'); } document.body.setAttribute('data-theme', name); localStorage.setItem('prefTheme', name); }, _fetchFont: (family) => { if (family === 'monospace') { return Promise.resolve(); } const familyNoSpaces = family.replaceAll(' ', ''); const fontz = [ new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Regular.woff2") format("woff2")', { display: 'swap', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Bold.woff2") format("woff2")', { display: 'swap', weight: 700 }), ]; if (family !== 'Fira Code') { fontz.push( new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-Italic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 400 }), new FontFace(family, 'url("./fonts/'+familyNoSpaces+'-BoldItalic.woff2") format("woff2")', { display: 'swap', style: 'italic', weight: 700 }) ); } for (const f of fontz) { document.fonts.add(f); } return Promise.allSettled(fontz).then(results => { results.forEach((res, i) => { if (res.status === 'rejected') { console.error('site failed to load font: ' + fontz[i]?.family ?? 'unknown'); } }); }); } }; window.site.setTheme(window.site.prefTheme); window.site.setFont(window.site.prefFont); })(); </script><header><nav><div class="nav-skip"><a href="#content">Skip to content</a></div><a aria-label="Home" class="nav-home" href="./">~</a><span>/</span></nav><div class="header-extra"><a href="./atom.xml">RSS</a><span aria-hidden="true">&compfn;</span><noscript>(requires JS &rarr;)</noscript><label for="select-theme">Theme</label><select data-select-theme id="select-theme"><option value="clean-day">Clean (Day)</option><option value="clean-night">Clean (Night)</option></select><span aria-hidden="true">&compfn;</span><label for="select-font">Font</label><select data-select-font id="select-font"><option value="monospace">monospace</option><option value="Liga Space Mono">Space Mono</option><option value="Victor Mono">Victor Mono</option><option value="Fira Code">Fira Code</option><option value="JetBrains Mono">JetBrains Mono</option></select></div></header><main id="content"><header data-area="heading"><h1>Announcing react-medium-image-zoom v4</h1></header><section data-area="meta"><h2>Info</h2><table data-type="cols-y"><tbody><tr><th>Summary</th><td>react-medium-image-zoom is an open source image zooming library based on medium.com's implementation of image zooming</td></tr><tr><th>Shared</th><td>2020-01-19</td></tr><tr><th>Revised</th><td>2023-02-12 @ 00:00 UTC</td></tr></tbody></table></section><section data-area="note"><p><em>2023-02-12 update: this articleâ€™s content is valid for the v4, but it isnâ€™t really for the v5 version.</em></p><p><em>tl;dr =&gt; Iâ€™ve release v4 of <a href="https://www.npmjs.com/package/react-medium-image-zoom">react-medium-image-zoom</a>, and you should consider using it for zooming images. Check out <a href="https://rpearce.github.io/react-medium-image-zoom/">the Storybook Examples</a> to see it in action.</em></p><h2 id="history-of-react-medium-image-zoom">History of <code>react-medium-image-zoom</code></h2><p>I wrote the first version of <a href="https://www.npmjs.com/package/react-medium-image-zoom"><code>react-medium-image-zoom</code></a> in 2016 in a 6m x 6m flat in London that my (now) wife and I lived in. At the time, I had been enamored with <a href="https://medium.design/image-zoom-on-medium-24d146fc0c20">medium.comâ€™s image zooming</a> and wanted to share that with the <a href="https://reactjs.org/">React.js</a> masses, so I wrote the first implementation on nights and weekends, and once it published, it was quickly added to projects at my day job.</p><h2 id="people-use-it">People Use It?!</h2><p>Since then, <a href="https://www.npmjs.com/package/react-medium-image-zoom"><code>react-medium-image-zoom</code></a> has <strong>22</strong> <a href="https://allcontributors.org/">All Contributors</a>, has reached up to <strong>50k</strong> downloads per month, is used by <strong>638</strong> open source projects on GitHub, has <strong>49</strong> dependent packages on NPM, and has over <strong>708</strong> stars on GitHub. While that might not be staggering to anyone, that means the world to me â€“ somebody else found value in something I made and put out into the world for free!</p><h2 id="why-v4-was-needed">Why v4 Was Needed</h2><p>Over the past 3.5 years, a number of issues were opened to ask for bug fixes, features and general questions, and there have even been a few pull requests, too! I am so grateful for all the effort put in by others to help me help them solve their issues.</p><p>A point was eventually reached, however, where there were bugs that were unfixable with the implementation of the component, and the codebase was not something I wanted to work with any more.</p><p>I <em>knew</em> it could be simpler! I <em>knew</em> it could be more accessible!</p><h2 id="using-react-medium-image-zoom-v4">Using <code>react-medium-image-zoom</code> v4</h2><p>Here is what using <a href="https://www.npmjs.com/package/react-medium-image-zoom"><code>react-medium-image-zoom</code></a> looks like now.</p><p>First, you import the default, <a href="https://reactjs.org/docs/uncontrolled-components.html">uncontrolled component</a> and the static CSS file:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-nx">Zoom</span> <span class="pl-nx">from</span> <span class="pl-s1">'react-medium-image-zoom'</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-s1">'react-medium-image-zoom/dist/styles.css'</span></span></span></code></pre><p>And then you go about your day adding zooming capabilities to your images:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">img</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">alt</span><span class="pl-o">=</span><span class="pl-s">"that wanaka tree"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"/path/to/thatwanakatree.jpg"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">width</span><span class="pl-o">=</span><span class="pl-s">"500"</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span></span></span></code></pre><p>Did I mention that you can now zoom <em>anything you like</em>?</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// &lt;picture&gt;
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-p">&lt;</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">picture</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">source</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">media</span><span class="pl-o">=</span><span class="pl-s">"(max-width: 800px)"</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">srcSet</span><span class="pl-o">=</span><span class="pl-s">"/path/to/teAraiPoint.jpg"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">img</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">alt</span><span class="pl-o">=</span><span class="pl-s">"that wanaka tree"</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"/path/to/thatwanakatree.jpg"</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">width</span><span class="pl-o">=</span><span class="pl-s">"500"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">picture</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// &lt;figure&gt;
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-p">&lt;</span><span class="pl-nt">figure</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">&lt;</span><span class="pl-nt">img</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">alt</span><span class="pl-o">=</span><span class="pl-s">"that wanaka tree"</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"/path/to/thatwanakatree.jpg"</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-na">width</span><span class="pl-o">=</span><span class="pl-s">"500"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;/</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">figcaption</span><span class="pl-p">&gt;</span><span class="pl-nx">That</span> <span class="pl-nx">Wanaka</span> <span class="pl-nx">Tree</span><span class="pl-p">&lt;/</span><span class="pl-nt">figcaption</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">figure</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1">// &lt;div&gt; that looks like a circle
</span></span></span><span class="pl-line"><span class="pl-cl"><span class="pl-c1"></span><span class="pl-p">&lt;</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">div</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">aria</span><span class="pl-err">-</span><span class="pl-na">label</span><span class="pl-o">=</span><span class="pl-s">"A blue circle"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">style</span><span class="pl-o">=</span><span class="pl-p">{{</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">width</span><span class="pl-o">:</span> <span class="pl-mi">300</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">height</span><span class="pl-o">:</span> <span class="pl-mi">300</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">borderRadius</span><span class="pl-o">:</span> <span class="pl-s1">'50%'</span><span class="pl-p">,</span>
</span></span><span class="pl-line"><span class="pl-cl">      <span class="pl-nx">backgroundColor</span><span class="pl-o">:</span> <span class="pl-s1">'#0099ff'</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-p">}}</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span></span></span></code></pre><p>If you find that you want to use the library as a <a href="https://reactjs.org/docs/forms.html#controlled-components">controlled component</a>, you import the <code>Controlled</code> component like this:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-kr">import</span> <span class="pl-p">{</span> <span class="pl-nx">Controlled</span> <span class="pl-nx">as</span> <span class="pl-nx">Zoom</span> <span class="pl-p">}</span> <span class="pl-nx">from</span> <span class="pl-s1">'react-medium-image-zoom'</span></span></span></code></pre><p>And then you dictate whether or not it should be zoomed and provide a callback for the library to give you hints about when you should probably zoom or unzoom based on events like clicks and scrolling:</p><pre class="pl-chroma"><code><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;</span><span class="pl-nt">Zoom</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-na">isZoomed</span><span class="pl-o">=</span><span class="pl-p">{</span><span class="pl-kc">true</span><span class="pl-p">}</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-na">onZoomChange</span><span class="pl-o">=</span><span class="pl-p">{</span><span class="pl-nx">isZoomed</span> <span class="pl-p">=&gt;</span> <span class="pl-p">{</span> <span class="pl-nx">console</span><span class="pl-p">.</span><span class="pl-nx">log</span><span class="pl-p">({</span> <span class="pl-nx">isZoomed</span> <span class="pl-p">})</span> <span class="pl-p">}}</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">&lt;</span><span class="pl-nt">img</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">alt</span><span class="pl-o">=</span><span class="pl-s">"that wanaka tree"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">src</span><span class="pl-o">=</span><span class="pl-s">"/path/to/thatwanakatree.jpg"</span>
</span></span><span class="pl-line"><span class="pl-cl">    <span class="pl-na">width</span><span class="pl-o">=</span><span class="pl-s">"500"</span>
</span></span><span class="pl-line"><span class="pl-cl">  <span class="pl-p">/&gt;</span>
</span></span><span class="pl-line"><span class="pl-cl"><span class="pl-p">&lt;/</span><span class="pl-nt">Zoom</span><span class="pl-p">&gt;</span></span></span></code></pre><h2 id="whats-next-for-react-medium-image-zoom">Whatâ€™s Next For <code>react-medium-image-zoom</code>?</h2><ul><li>Smarter detection for image <code>naturalWidth</code> and <code>naturalHeight</code> so we donâ€™t try to zoom anything when itâ€™s already at its maximum dimensions. This would also re-enable the ability to not zoom beyond a source imageâ€™s natural dimensions once zoomed.</li><li>Performance improvements (<code>requestAnimationFrame</code>, etc.)</li><li>Explore re-enabling switching out lower-quality images with higher-quality ones as part of the zoom process</li></ul><h2 id="thank-you">Thank You</h2><p>Thank you for reading this and for having an interest in <a href="https://www.npmjs.com/package/react-medium-image-zoom"><code>react-medium-image-zoom</code></a>! If youâ€™d like to contribute to the project, need help, or have constructive feedback, please open an issue on <a href="https://github.com/rpearce/react-medium-image-zoom/issues">the <code>react-medium-image-zoom</code> issue tracker</a>.</p><p>Thank you for reading! <br /> Robert</p></section></main><footer><span aria-hidden="true" class="heart">â™¥</span><span aria-hidden="true">&rarr;</span><a href="https://github.com/sponsors/rpearce/">Sponsor my work</a><span aria-hidden="true">&larr;</span><span aria-hidden="true" class="heart">â™¥</span></footer><script async> (() => { const themeEl = document.querySelector('[data-select-theme]'); if (themeEl) { themeEl.querySelector('[value="'+window.site.prefTheme+'"]').selected = 'selected'; themeEl.addEventListener('change', e => { window.site.setTheme(e.target.value); }); } const fontEl = document.querySelector('[data-select-font]'); if (fontEl) { fontEl.querySelector('[value="'+window.site.prefFont+'"]').selected = 'selected'; fontEl.addEventListener('change', e => { window.site.setFont(e.target.value); }) } })(); </script></body></html>